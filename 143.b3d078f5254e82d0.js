"use strict";(self.webpackChunklasquefaltaban=self.webpackChunklasquefaltaban||[]).push([[143],{3143:(S,f,s)=>{s.r(f),s.d(f,{QuestionsModule:()=>z});var u=s(6895),l=s(343),t=s(8256),d=s(7500);let T=(()=>{class n{constructor(){}ngOnInit(){}goBack(){window.history.back()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-addquestion"]],decls:18,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-2"],[1,"col-10","ms-sm-auto","px-md-4","mb-5"],[3,"click"],["data-bs-toggle","tooltip","data-bs-placement","right","data-bs-title","Volver atr\xe1s",1,"material-symbols-outlined","ms-5","back"],[1,"ftco-section"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-7"],[1,"login-wrap","p-4","p-md-5"],[1,"icon","d-flex","align-items-center","justify-content-center"],[1,"material-symbols-outlined"],[1,"text-center","mb-4"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-sidebar"),t.qZA(),t.TgZ(4,"main",3)(5,"a",4),t.NdJ("click",function(){return i.goBack()}),t.TgZ(6,"i",5),t._uU(7,"arrow_back_ios"),t.qZA()(),t.TgZ(8,"section",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"i",12),t._uU(15,"quiz"),t.qZA()(),t.TgZ(16,"h3",13),t._uU(17,"A\xf1adir pregunta"),t.qZA()()()()()()()()())},dependencies:[d.k],styles:[".material-symbols-outlined[_ngcontent-%COMP%]{font-size:50px;color:#fff}.back[_ngcontent-%COMP%]{font-size:3rem;color:#5e1f5d}.back[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();var m=s(5415),q=s(7579),_=s(5226),c=s.n(_),h=s(529),Z=s(3900),p=s(9646),v=s(262),x=s(9019);let b=(()=>{class n{constructor(e){this.http=e,this.url=`${x.N.apiUrl}/question`,this.httpOptions={headers:new h.WM({"Content-Type":"application/json"})}}getQuestions(){return this.http.get(this.url)}getQuestionById(e){return this.http.get(`${this.url}/${e}`,this.httpOptions)}addQuestion(e){return this.http.post(`${this.url}`,{name:e},this.httpOptions)}deleteQuestion(e){return this.http.delete(`${this.url}/${e}`,this.httpOptions).pipe((0,Z.w)(i=>(0,p.of)(!0)),(0,v.K)(i=>(0,p.of)(!1)))}editQuestion(e){return this.http.put(`${this.url}/${e.id}`,{},this.httpOptions).pipe((0,Z.w)(i=>(0,p.of)(!0)),(0,v.K)(i=>(0,p.of)(!1)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(h.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A(n,o){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",24),t._UZ(2,"path",25),t.qZA()())}function y(n,o){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",26),t._UZ(2,"path",27),t.qZA()())}function w(n,o){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",24),t._UZ(2,"path",25),t.qZA()())}function Q(n,o){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",26),t._UZ(2,"path",27),t.qZA()())}function C(n,o){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",24),t._UZ(2,"path",25),t.qZA()())}function U(n,o){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",26),t._UZ(2,"path",27),t.qZA()())}function O(n,o){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",24),t._UZ(2,"path",25),t.qZA()())}function M(n,o){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",26),t._UZ(2,"path",27),t.qZA()())}function k(n,o){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.category.name)}}const F=function(n){return["/question/update",n]};function J(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr",12)(1,"td",13),t._uU(2),t.qZA(),t.TgZ(3,"td",10)(4,"p"),t.YNc(5,A,3,0,"span",14),t.YNc(6,y,3,0,"span",14),t._uU(7),t.qZA(),t.TgZ(8,"p"),t.YNc(9,w,3,0,"span",14),t.YNc(10,Q,3,0,"span",14),t._uU(11),t.qZA(),t.TgZ(12,"p"),t.YNc(13,C,3,0,"span",14),t.YNc(14,U,3,0,"span",14),t._uU(15),t.qZA(),t.TgZ(16,"p"),t.YNc(17,O,3,0,"span",14),t.YNc(18,M,3,0,"span",14),t._uU(19),t.qZA()(),t.TgZ(20,"td",15),t._uU(21),t.qZA(),t.TgZ(22,"td",10)(23,"ul"),t.YNc(24,k,2,1,"li",16),t.qZA()(),t.TgZ(25,"td",15)(26,"button",17),t.O4$(),t.TgZ(27,"svg",18),t._UZ(28,"path",19)(29,"path",20),t.qZA(),t._uU(30," Editar"),t.qZA(),t.kcU(),t.TgZ(31,"button",21),t.NdJ("click",function(){const g=t.CHM(e).$implicit,Y=t.oxw();return t.KtG(Y.deleteQuestion(g.id))}),t.O4$(),t.TgZ(32,"svg",22),t._UZ(33,"path",23),t.qZA(),t._uU(34," Borrar"),t.qZA()()()}if(2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(3),t.Q6J("ngIf",e.answers[0].correct),t.xp6(1),t.Q6J("ngIf",!e.answers[0].correct),t.xp6(1),t.hij(" ",e.answers[0].answer," "),t.xp6(2),t.Q6J("ngIf",e.answers[1].correct),t.xp6(1),t.Q6J("ngIf",!e.answers[1].correct),t.xp6(1),t.hij(" ",e.answers[1].answer," "),t.xp6(2),t.Q6J("ngIf",1==e.answers[2].correct),t.xp6(1),t.Q6J("ngIf",0==e.answers[2].correct),t.xp6(1),t.hij(" ",e.answers[2].answer," "),t.xp6(2),t.Q6J("ngIf",e.answers[3].correct),t.xp6(1),t.Q6J("ngIf",!e.answers[3].correct),t.xp6(1),t.hij(" ",e.answers[3].answer," "),t.xp6(2),t.Oqu(e.woman.name),t.xp6(3),t.Q6J("ngForOf",e.questioncategories),t.xp6(2),t.Q6J("routerLink",t.VKq(16,F,e.id))}}let B=(()=>{class n{constructor(e){this.questionService=e,this.dtOptions={},this.dtTrigger=new q.x}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:10,processing:!0},this.questions=this.questionService.getQuestions().subscribe({next:e=>{this.questions=e,this.dtTrigger.next(this.questions)},error:e=>{}})}deleteQuestion(e){this.questionService.deleteQuestion(e).subscribe({next:i=>{window.location.reload(),c().fire({icon:"success",title:"Pregunta borrada",confirmButtonColor:"#8d448b"}).then(a=>{location.reload()})},error:i=>{c().fire({icon:"error",title:"Pregunta no borrada",confirmButtonColor:"#8d448b"})}})}ngOnDestroy(){this.dtTrigger.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-questionlist"]],viewQuery:function(e,i){if(1&e&&t.Gf(m.G,5),2&e){let a;t.iGM(a=t.CRH())&&(i.dtElement=a.first)}},decls:26,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col-2"],[1,"col-10","ms-sm-auto","px-md-4"],[1,"d-flex","flex-column","flex-shrink-0","position-sticky","text-center"],[1,"display-5","fw-bold","mb-5"],["routerLink","/question/add"],[1,"btn","btn-success","btn-lg","pull-right","mb-5"],["datatable","",1,"table","table-bordered","table-striped","table-hover","text-left",3,"dtOptions","dtTrigger"],[1,"h4","text-center"],[1,"align-middle"],["class","h5",4,"ngFor","ngForOf"],[1,"h5"],[1,"align-middle","q-name"],[4,"ngIf"],[1,"align-middle","text-center"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-info",2,"margin-left","10px",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","height","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],["type","button",1,"btn","btn-danger",2,"margin-left","10px",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3"],["d","M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"],["xmlns","http://www.w3.org/2000/svg","height","20","height","20","fill","green","viewBox","0 0 16 16",1,"bi","bi-check-circle-fill"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"],["xmlns","http://www.w3.org/2000/svg","height","20","height","20","fill","red","viewBox","0 0 16 16",1,"bi","bi-x-circle-fill"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-sidebar"),t.qZA(),t.TgZ(4,"main",3)(5,"div",4)(6,"h1",5),t._uU(7,"Listado de preguntas"),t.qZA(),t.TgZ(8,"a",6)(9,"button",7),t._uU(10,"+ Nueva"),t.qZA()(),t.TgZ(11,"table",8)(12,"thead")(13,"tr",9)(14,"th",10),t._uU(15,"Pregunta"),t.qZA(),t.TgZ(16,"th",10),t._uU(17,"Respuestas"),t.qZA(),t.TgZ(18,"th",10),t._uU(19,"Mujer"),t.qZA(),t.TgZ(20,"th",10),t._uU(21,"Categor\xedas"),t.qZA(),t.TgZ(22,"th",10),t._uU(23,"Acciones"),t.qZA()()(),t.TgZ(24,"tbody"),t.YNc(25,J,35,18,"tr",11),t.qZA()()()()()()),2&e&&(t.xp6(11),t.Q6J("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),t.xp6(14),t.Q6J("ngForOf",i.questions))},dependencies:[u.sg,u.O5,l.rH,l.yS,d.k,m.G],styles:["h1[_ngcontent-%COMP%]{color:#8d448b}.q-name[_ngcontent-%COMP%]{width:500px}"]}),n})();var r=s(433);function $(n,o){1&n&&(t.TgZ(0,"span",22),t._uU(1," El nombre de la pregunta debe tener como m\xednimo 2 letras y como m\xe1ximo 50 "),t.qZA())}const I=[{path:"",component:B},{path:"add",component:T},{path:"update/:id",component:(()=>{class n{constructor(e,i,a,g){this.questionService=e,this.route=i,this.fb=a,this.activatedRoute=g,this.name="",this.myForm=this.fb.group({name:[this.name,[r.kI.required,r.kI.minLength(2),r.kI.maxLength(50)]]})}ngOnInit(){this.id=this.activatedRoute.snapshot.paramMap.get("id"),this.questionService.getQuestionById(this.id).subscribe({next:e=>{this.question=e,this.myForm.setValue({name:this.question.name})}})}notValid(e){return this.myForm?.controls[e]?.invalid&&this.myForm?.controls[e]?.touched}editQuestion(){this.myForm.invalid?this.myForm.markAllAsTouched():this.questionService.editQuestion(this.myForm).subscribe({next:e=>{c().fire({icon:"success",title:"Categor\xeda editada",confirmButtonColor:"#8d448b"}),this.route.navigateByUrl("/category")},error:e=>{c().fire({icon:"error",title:"Categor\xeda no editada",confirmButtonColor:"#8d448b"}),this.route.navigateByUrl("/category")}})}goBack(){window.history.back()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b),t.Y36(l.F0),t.Y36(r.qu),t.Y36(l.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-updatequestion"]],decls:31,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col-2"],[1,"col-10","ms-sm-auto","px-md-4","mb-5"],[3,"click"],["data-bs-toggle","tooltip","data-bs-placement","right","data-bs-title","Volver atr\xe1s",1,"material-symbols-outlined","ms-5","back"],[1,"ftco-section"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6","col-lg-7"],[1,"login-wrap","p-4","p-md-5"],[1,"icon","d-flex","align-items-center","justify-content-center"],[1,"material-symbols-outlined"],[1,"text-center","mb-4"],["autocomplete","off",1,"login-form",3,"formGroup","ngSubmit"],[1,"form-group"],["for","name",1,"col-form-label"],["type","text","name","name","formControlName","name","required","",1,"form-control","rounded-left"],["class","form-text text-danger",4,"ngIf"],["for","woman",1,"col-form-label"],["type","text","name","woman","formControlName","woman.name","required","",1,"form-control","rounded-left"],["type","submit",1,"btn","btn-primary","rounded","submit","p-3","px-5",3,"disabled"],[1,"form-text","text-danger"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-sidebar"),t.qZA(),t.TgZ(4,"main",3)(5,"a",4),t.NdJ("click",function(){return i.goBack()}),t.TgZ(6,"i",5),t._uU(7,"arrow_back_ios"),t.qZA()(),t.TgZ(8,"section",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"i",12),t._uU(15,"quiz"),t.qZA()(),t.TgZ(16,"h3",13),t._uU(17,"Editar pregunta"),t.qZA(),t.TgZ(18,"form",14),t.NdJ("ngSubmit",function(){return i.editQuestion()}),t.TgZ(19,"div",15)(20,"label",16),t._uU(21,"Enunciado de la pregunta"),t.qZA(),t._UZ(22,"input",17),t.YNc(23,$,2,0,"span",18),t.qZA(),t.TgZ(24,"div",15)(25,"label",19),t._uU(26,"Mujer"),t.qZA(),t._UZ(27,"input",20),t.qZA(),t.TgZ(28,"div",15)(29,"button",21),t._uU(30,"Enviar"),t.qZA()()()()()()()()()()()),2&e&&(t.xp6(18),t.Q6J("formGroup",i.myForm),t.xp6(5),t.Q6J("ngIf",i.notValid("name")),t.xp6(6),t.Q6J("disabled",i.myForm.invalid))},dependencies:[u.O5,d.k,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u],styles:[".material-symbols-outlined[_ngcontent-%COMP%]{font-size:50px;color:#fff}.back[_ngcontent-%COMP%]{font-size:3rem;color:#5e1f5d}.back[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})()}];let L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.Bz.forChild(I),l.Bz]}),n})();var N=s(4466);let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.ez,L,N.m,r.u5,r.UX,l.Bz,m.T]}),n})()}}]);